import{s as r,g as n,a as s,b as c,c as g}from"./index-CL3AMrBv.js";async function u(){console.log("[DEBUG] Opening settings"),r("settings");try{const e=await n()("get_autostart_enabled"),o=s("autostart-toggle");o&&(o.checked=e)}catch(t){console.error("Failed to load autostart setting:",t)}setTimeout(()=>{const t=s("autostart-toggle");t&&t.addEventListener("change",async e=>{try{const o=n(),a=e.target;await o("set_autostart_enabled",{enabled:a.checked})}catch(o){console.error("Failed to set autostart:",o);const a=e.target;a.checked=!a.checked}}),c("logout-btn",()=>i()),c("back-from-settings-btn",()=>{r("authenticated")})},100)}async function i(){if(console.log("[DEBUG] Logging out"),!!confirm("Are you sure you want to logout?"))try{await n()("clear_auth_tokens"),location.reload()}catch(t){console.error("Failed to logout:",t),g(`Failed to logout: ${t}`)}}export{i as handleLogout,u as openSettings};
